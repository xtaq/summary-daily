## 数据结构（散列）

---

**散列（哈希）：**  
通过构建散列表，实现数据的快速访问。  
**散列函数的常见构造方法:**  

1. **整除留余：**
  `hash(key) = key % M`  
  当M为素数时，数据对散列的覆盖最充分，分布最均匀。  
  
2. **MAD法:**  
  `hash(key) = (a * key) + b) %M`  
  M为素数，a > 0, b > 0, a % M != 0  
  
3. **平方取中:**  
  取key^2的中间若干位，构成地址。  
  
* **折叠法:**  
  将key分割为等宽的若干段，取其总和作为地址。  
  
* **多项式法:**  
  适用于字符串，把字符串的每个字符转换为整数，把这个整数的前5位和后27位互换，并相加。`h = (h << 5) | (h >> 27); h += (int)s[i]`  
  
**冲突解决:**

1. **独立链表法:**  
   当关键码相同时，在关键码后依次插入，构建链表。优点是方便简洁的解决所有冲突；缺点需要额外的指针空间，物理地址不连续，系统缓存失效，当散列表很大时，需要i/o外存时，效率很低。

2. **开放定址:**  
   * **线性试探:**  
   建立一个线性的查找链，把元素插入一个空桶，当遇到冲突时，向下寻找一个空桶插入，这样保证了物理内存上的连续，但可能引起更多的冲突。

   * **平方试探:**  
   相对于线性试探的逐次访问，平方试探是去访问试探次数的平方个单元的值，第一次1*1=1，第二次2\*2=4，第三次3\*3=9....  
   
   * **双向平方试探:**  
   对冲突位置的前后都进行平方试探，可以充分利用空间，注意最好素数M＝4K＋3，这样前后查找链的冲突会最少。
   
   